<!DOCTYPE html>  
<html lang="zh-CN">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>AIForge - 智能意图自适应执行引擎</title>  
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">  
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">  
    <link href="/static/css/aiforge.css" rel="stylesheet">  
</head>  
  
<body class="bg-gray-50">  
    <!-- 顶部导航 -->  
    <nav class="bg-white shadow-sm border-b">  
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">  
            <div class="flex justify-between h-16">  
                <div class="flex items-center">  
                    <h1 class="text-xl font-bold text-gray-900">🚀 AIForge</h1>  
                    <span class="ml-2 text-sm text-gray-500">智能意图自适应执行引擎</span>  
                </div>  
                <div class="flex items-center space-x-4">  
                    <!-- 快速配置区域 -->  
                    <div class="flex items-center space-x-2">  
                        <select id="providerSelect" class="border rounded px-3 py-1 text-sm">  
                            <option value="openrouter">OpenRouter</option>  
                            <option value="deepseek">DeepSeek</option>  
                            <option value="ollama">Ollama</option>  
                            <option value="grok">Grok</option>  
                            <option value="qwen">Qwen</option>  
                            <option value="gemini">Gemini</option>  
                            <option value="claude">Claude</option>  
                            <option value="cohere">Cohere</option>  
                            <option value="mistral">Mistral</option>  
                        </select>  
                        <select id="localeSelect" class="border rounded px-3 py-1 text-sm">  
                            <option value="zh">中文</option>  
                            <option value="en">English</option>  
                            <option value="ja">日本語</option>  
                            <option value="ko">한국어</option>  
                            <option value="fr">Français</option>  
                            <option value="de">Deutsch</option>  
                            <option value="es">Español</option>  
                            <option value="pt">Português</option>  
                            <option value="ru">Русский</option>  
                            <option value="ar">العربية</option>  
                            <option value="hi">हिन्दी</option>  
                            <option value="vi">Tiếng Việt</option>  
                        </select>  
                    </div>  
                    <button id="settingsBtn" class="text-gray-500 hover:text-gray-700">⚙️</button>  
                </div>  
            </div>  
        </div>  
    </nav>  
  
    <!-- 主要内容区域 -->  
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">  
        <!-- 配置状态提示 -->  
        <div id="configAlert" class="hidden mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">  
            <div class="flex">  
                <div class="flex-shrink-0">  
                    <svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">  
                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />  
                    </svg>  
                </div>  
                <div class="ml-3">  
                    <h3 class="text-sm font-medium text-yellow-800">需要配置API密钥</h3>  
                    <div class="mt-2 text-sm text-yellow-700">  
                        <p>请在设置中配置您的API密钥以开始使用AIForge。</p>  
                    </div>  
                    <div class="mt-4">  
                        <button id="openConfigBtn" class="bg-yellow-100 px-2 py-1 text-xs font-semibold text-yellow-800 rounded hover:bg-yellow-200">  
                            立即配置  
                        </button>  
                    </div>  
                </div>  
            </div>  
        </div>  
  
        <!-- 其他现有内容... -->  
    </div>  
  
    <!-- 设置模态框 -->  
    <div id="settingsModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden">  
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">  
            <div class="mt-3">  
                <div class="flex items-center justify-between mb-4">  
                    <h3 class="text-lg font-medium text-gray-900">配置设置</h3>  
                    <button id="closeSettings" class="text-gray-400 hover:text-gray-600">  
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">  
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>  
                        </svg>  
                    </button>  
                </div>  
                  
                <form id="configForm" class="space-y-4">  
                    <!-- API密钥配置 -->  
                    <div>  
                        <label for="apiKeyInput" class="block text-sm font-medium text-gray-700 mb-1">  
                            API密钥  
                        </label>  
                        <input type="password" id="apiKeyInput"   
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"  
                               placeholder="请输入您的API密钥">  
                        <p class="mt-1 text-xs text-gray-500">  
                            API密钥仅在本次会话中有效，不会被保存  
                        </p>  
                    </div>  
  
                    <!-- 提供商选择 -->  
                    <div>  
                        <label for="providerInput" class="block text-sm font-medium text-gray-700 mb-1">  
                            LLM提供商  
                        </label>  
                        <select id="providerInput" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">  
                            <option value="openrouter">OpenRouter</option>  
                            <option value="deepseek">DeepSeek</option>  
                            <option value="ollama">Ollama (本地)</option>  
                            <option value="grok">Grok (X.AI)</option>  
                            <option value="qwen">通义千问</option>  
                            <option value="gemini">Google Gemini</option>  
                            <option value="claude">Anthropic Claude</option>  
                            <option value="cohere">Cohere</option>  
                            <option value="mistral">Mistral AI</option>  
                        </select>  
                    </div>  
  
                    <!-- 语言选择 -->  
                    <div>  
                        <label for="localeInput" class="block text-sm font-medium text-gray-700 mb-1">  
                            界面语言  
                        </label>  
                        <select id="localeInput" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">  
                            <option value="zh">中文 (简体)</option>  
                            <option value="en">English</option>  
                            <option value="ja">日本語</option>  
                            <option value="ko">한국어</option>  
                            <option value="fr">Français</option>  
                            <option value="de">Deutsch</option>  
                            <option value="es">Español</option>  
                            <option value="pt">Português</option>  
                            <option value="ru">Русский</option>  
                            <option value="ar">العربية</option>  
                            <option value="hi">हिन्दी</option>  
                            <option value="vi">Tiếng Việt</option>  
                        </select>  
                    </div>  
  
                    <!-- 高级设置 -->  
                    <div class="border-t pt-4">  
                        <h4 class="text-sm font-medium text-gray-700 mb-2">高级设置</h4>  
                          
                        <div class="grid grid-cols-2 gap-3">  
                            <div>  
                                <label for="maxRoundsInput" class="block text-xs text-gray-600 mb-1">  
                                    最大轮数  
                                </label>  
                                <input type="number" id="maxRoundsInput" min="1" max="10"   
                                       class="w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"  
                                       placeholder="2">  
                            </div>  
                            <div>  
                                <label for="maxTokensInput" class="block text-xs text-gray-600 mb-1">  
                                    最大Token数  
                                </label>  
                                <input type="number" id="maxTokensInput" min="1000" max="32000" step="1000"  
                                       class="w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"  
                                       placeholder="4096">  
                            </div>  
                        </div>  
                    </div>  
  
                    <!-- 按钮组 -->  
                    <div class="flex justify-end space-x-3 pt-4">  
                        <button type="button" id="cancelSettings"   
                                class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200">  
                            取消  
                        </button>  
                        <button type="submit"   
                                class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700">  
                            保存配置  
                        </button>  
                    </div>  
                </form>  
            </div>  
        </div>  
    </div>  
  
    <!-- 脚本文件 -->  
    <script src="/static/js/config-manager.js"></script>  
    <script src="/static/js/streaming-client.js"></script>  
    <script src="/static/js/session.js"></script>  
    <script src="/static/js/ui-adapters.js"></script>  
    <script src="/static/js/main.js"></script>  
</body>  
</html>